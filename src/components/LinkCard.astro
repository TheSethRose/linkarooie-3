---
// src/components/LinkCard.astro
import type { Link } from '../types';

interface Props {
  link: Link;
}

const { link } = Astro.props;
const isHidden = link.hidden || false;
---

{!isHidden && (
  <a 
    href={link.url}
    target="_blank"
    rel="noopener noreferrer"
    class="block p-4 bg-gray-50 dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 hover:scale-105 border border-gray-200 dark:border-gray-700 hover:border-[#a5fd0e]"
    data-track="true"
    data-id={link.id}
    data-hidden={isHidden}
    data-type="link"
    data-description={link.description}
  >
    <div class="flex items-start">
      <div class="mr-3 text-[#a5fd0e] text-xl">
        <i class={link.icon}></i>
      </div>
      <div>
        <h3 class="font-medium text-gray-900 dark:text-white">{link.title}</h3>
        <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">{link.description}</p>
      </div>
    </div>
  </a>
)}

{isHidden && (
  <script define:vars={{ link }}>
    console.log(
      '%cðŸ”— Hidden Link Found: ' + link.title,
      'color: #a5fd0e; font-weight: bold; font-size: 14px;'
    );
    console.log({
      id: link.id,
      title: link.title,
      url: link.url,
      description: link.description
    });
  </script>
)}